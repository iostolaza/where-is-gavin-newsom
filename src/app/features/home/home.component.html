<!-- TOP BAR WITH FUTURE AUTH -->
<header class="fixed top-0 left-0 right-0 bg-white border-b border-gray-200 shadow-sm z-50">
  <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
    <h1 class="text-3xl font-black text-blue-900 tracking-tight">
      Where Is Gavin Newsom?
    </h1>
    
    <div class="flex items-center gap-4">
      <!-- Future: Auth dropdown will go here -->
      <span class="text-sm text-gray-500">Sign in to report →</span>
    </div>
  </div>
</header>

<!-- SEARCH BAR + POST BUTTON -->
<div class="fixed top-20 left-0 right-0 bg-white border-b border-gray-200 z-40 shadow-sm">
  <div class="max-w-7xl mx-auto px-6 py-4 flex items-center gap-4">
    <div class="flex-1 relative">
      <input 
        type="text" 
        placeholder="Search city, venue, or address..."
        class="w-full px-5 py-3 pl-12 rounded-xl border border-gray-300 focus:border-blue-500 focus:outline-none text-lg">
      <svg class="absolute left-4 top-4 w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
      </svg>
    </div>
    <button class="bg-red-600 hover:bg-red-700 text-white font-bold px-8 py-3 rounded-xl shadow-lg hover:shadow-xl transition">
      POST SIGHTING
    </button>
  </div>
</div>

<!-- MAIN CONTENT -->
<main class="pt-40 pb-24">

  <!-- FULL WIDTH MAP -->
  <section class="px-6 mb-16">
    <div class="max-w-7xl mx-auto">
      <h2 class="text-3xl font-black mb-6 text-gray-800">Live Location Map</h2>
      <div class="card p-0 overflow-hidden">
        <google-map 
          height="600px" 
          width="100%" 
          [center]="mapCenter" 
          [zoom]="6.5" 
          [options]="mapOptions">
          
          <map-marker
            *ngFor="let s of (sightings$ | async)"
            [position]="{ lat: s.lat, lng: s.lng }"
            (mapClick)="openInfoWindow(marker, s)"
            #marker="mapMarker">
          </map-marker>

          <map-info-window>
            <div class="p-4 max-w-sm" *ngIf="selectedSighting">
              <img [src]="selectedSighting.imageUrl" class="w-full h-48 object-cover rounded-lg mb-4">
              <h4 class="font-bold text-xl">{{ selectedSighting.title }}</h4>
              <p class="text-gray-600 mt-2">{{ selectedSighting.locationName }}</p>
              <p class="text-sm text-gray-500 mt-3">{{ selectedSighting.sightedAt | timeAgo }}</p>
            </div>
          </map-info-window>
        </google-map>
      </div>
    </div>
  </section>

  <!-- LATEST SIGHTING HERO -->
  <section class="px-6 mb-20" *ngIf="latest$ | async as latest">
    <div class="max-w-7xl mx-auto">
      <h2 class="text-3xl font-black mb-8 text-gray-800">Most Recent Sighting</h2>
      <div class="card max-w-5xl mx-auto">
        <div class="md:flex">
          <img [src]="latest.imageUrl" class="w-full md:w-96 h-80 object-cover rounded-l-2xl">
          <div class="p-10 flex-1">
            <h3 class="text-3xl font-bold text-gray-900 mb-4">{{ latest.title }}</h3>
            <div class="flex items-center gap-3 text-blue-600 font-medium mb-6">
              <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M5.05 4.05a7 7 0 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"/></svg>
              <span class="text-xl">{{ latest.locationName }}</span>
            </div>
            <p class="text-gray-700 text-lg leading-relaxed mb-6">{{ latest.description }}</p>
            <div class="flex items-center justify-between pt-6 border-t border-gray-200">
              <span class="text-lg font-medium text-gray-600">
                Spotted {{ latest.sightedAt | timeAgo }}
              </span>
              <span class="bg-green-100 text-green-800 px-4 py-2 rounded-full font-bold">VERIFIED</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- RECENT SIGHTINGS — HORIZONTAL CARDS -->
  <section class="px-6">
    <div class="max-w-7xl mx-auto">
      <h2 class="text-3xl font-black mb-8 text-gray-800">Recent Sightings</h2>
      <div class="space-y-6">
        <div *ngFor="let s of (sightings$ | async)" class="card max-w-5xl mx-auto">
          <div class="flex flex-col sm:flex-row gap-6">
            <img [src]="s.imageUrl" class="w-full sm:w-64 h-48 object-cover rounded-xl">
            <div class="flex-1 py-4">
              <h4 class="text-2xl font-bold text-gray-900 mb-2">{{ s.title }}</h4>
              <p class="text-gray-600 mb-4">{{ s.locationName }}</p>
              <p class="text-gray-700 line-clamp-3">{{ s.description }}</p>
              <div class="flex items-center justify-between mt-6 pt-4 border-t border-gray-200">
                <span class="text-sm text-gray-500">{{ s.sightedAt | timeAgo }}</span>
                <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium">Citizen Report</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</main>
